!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],e):"object"==typeof exports?exports.NodeSearch=e(require("React"),require("ReactDOM")):t.NodeSearch=e(t.React,t.ReactDOM)}(window,function(t,e){var n=Math.floor,r=Math.ceil,o=Math.min;return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(e){return t[e]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=24)}([function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,e,n){var r=n(26)("wks"),o=n(14),i=n(0).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(6);t.exports=function(t,e,n){return r(t),void 0===e?t:1===n?function(n){return t.call(e,n)}:2===n?function(n,r){return t.call(e,n,r)}:3===n?function(n,r,o){return t.call(e,n,r,o)}:function(){return t.apply(e,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e){e.exports=t},function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,e,n){var r=n(3),o=n(28),i=n(29),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){"use strict";function n(t,e){return encodeURIComponent(t)+"="+encodeURIComponent(e.toString())}Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ENTITY="node",e.createResultItemStub=function(t){return{id:t,title:t,status:0,created:"",updated:"",type:"",human_type:"",image:""}},e.createSearch=function(t,e){return t=t||{},e&&(t.page=t.page||e.page,t.search=t.search||e.search,t.sort_field=t.sort_field||e.sort_field,t.sort_order=t.sort_order||e.sort_order),t},e.doSearch=function(t){return new Promise(function(r,o){var i=[];i.push(n("entity",t.entity||e.DEFAULT_ENTITY)),t.page&&i.push(n("page",t.page)),t.limit&&i.push(n("limit",t.limit)),t.search&&i.push(n("search",t.search)),t.sort_field&&i.push(n("sort_field",t.sort_field)),t.sort_order&&i.push(n("sort_order",t.sort_order)),t.types&&i.push(n("type",t.types.join("|")));var a=new XMLHttpRequest;a.open("GET","/ajax/node/search?"+i.join("&")),a.setRequestHeader("Accept","application/json"),a.addEventListener("load",function(){if(200!==a.status)o(a.status+": "+a.statusText+": "+a.responseText);else try{var t=JSON.parse(a.responseText);t.result||(t.result=[]),t.total||(t.total=0),r(t)}catch(t){o(a.status+": "+a.statusText+": cannot parse JSON: "+t)}}),a.addEventListener("error",function(){o(a.status+": "+a.statusText+": "+a.responseText)}),a.send()})}},function(t){t.exports=!1},function(t,e,n){var r=n(9),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t,e,n){var r=n(10),o=n(30);t.exports=n(7)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(4),o=n(0).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(0),o=n(15),i=n(19),a=n(14)("src"),s="toString",c=Function[s],u=(""+c).split(s);n(2).inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]===n||(c&&(i(n,a)||o(n,a,t[e]?""+t[e]:u.join(e+""))),t===r?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||c.call(this)})},function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t){t.exports={}},function(t,e,n){var r,o,i,a=n(5),s=n(39),c=n(40),u=n(17),l=n(0),p=l.process,f=l.setImmediate,h=l.clearImmediate,v=l.MessageChannel,d=l.Dispatch,m=0,y={},_="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},g=function(t){b.call(t.data)};f&&h||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},h=function(t){delete y[t]},"process"==n(9)(p)?r=function(t){p.nextTick(a(b,t,1))}:d&&d.now?r=function(t){d.now(a(b,t,1))}:v?(i=(o=new v).port2,o.port1.onmessage=g,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",g,!1)):r=_ in u("script")?function(t){c.appendChild(u("script"))[_]=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:f,clear:h}},function(t,e,n){"use strict";var r=n(6);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(11),a=n(8),s=n(51),c=n(52),u=n(53),l=n(54),p=function(t){function e(e){var n=t.call(this,e)||this,r=n.props.values.map(function(t){return"string"==typeof t?i.createResultItemStub(t):t});return n.state={defaults:r.concat([]),previous:r.concat([]),values:r},n.onCancelClick=n.onCancelClick.bind(n),n.onCloseClick=n.onCloseClick.bind(n),n.onOpenClick=n.onOpenClick.bind(n),n.onResetClick=n.onResetClick.bind(n),n.onSearchChange=n.onSearchChange.bind(n),n.typeFilter=n.typeFilter.bind(n),n.valueAdd=n.valueAdd.bind(n),n.valueRemove=n.valueRemove.bind(n),n}return r(e,t),e.prototype.componentDidMount=function(){this.refresh()},e.prototype.refresh=function(t){var e=this;(t=t||{}).entity=this.props.entityType,t.limit=t.limit||this.props.limit||18,t.types=t.types||this.props.types,t=i.createSearch(t,this.state.result),i.doSearch(t).then(function(t){return e.setState({result:t})}).catch(function(t){return console.log(t)})},e.prototype.typeFilter=function(t,e){var n=this.state.result?this.state.result.types:[];if(e)-1===n.indexOf(t)&&(n=n.concat([t]));else for(var r;-1!==(r=n.indexOf(t));)n.splice(r,1);this.refresh({types:n.length?n:this.props.types})},e.prototype.valueAdd=function(t){var e;e=1===this.props.maxCount?[t]:this.props.maxCount&&this.state.values.length>=this.props.maxCount?this.state.values:this.state.values.concat([t]),this.props.onUpdate(e),this.setState({values:e})},e.prototype.valueRemove=function(t){var e=this.state.values.filter(function(e){return t.id!==e.id});this.props.onUpdate(e),this.setState({values:e})},e.prototype.onSearchChange=function(t){var e=this;!function(t){clearTimeout(e.onChangeDebounceTimer),e.onChangeDebounceTimer=setTimeout(function(){return e.refresh({page:1,search:t})},200)}(t.target.value)},e.prototype.onCloseClick=function(){this.props.onUpdate(this.state.values),this.setState({dialogOpened:!1,previous:this.state.values.concat([])})},e.prototype.onOpenClick=function(t){t.preventDefault(),this.setState({dialogOpened:!0}),this.refresh()},e.prototype.onCancelClick=function(t){t.preventDefault(),this.props.onUpdate(this.state.previous),this.setState({dialogOpened:!1,values:this.state.previous}),this.refresh()},e.prototype.onResetClick=function(t){t.preventDefault(),this.props.onUpdate(this.state.defaults),this.setState({dialogOpened:!1,values:this.state.defaults}),this.refresh()},e.prototype.render=function(){var t=this,e=null,n=this.state.values.map(function(t){return t.id}),r=this.state.result?this.state.result.result:[];if(this.state.dialogOpened){var o=this.state.result?this.state.result.search:"",i=this.state.result?this.state.result.page:1,s=this.state.result?this.state.result.total:0,p=this.state.result?this.state.result.limit:1,f=[],h=[];if(this.props.types&&this.props.types.length?h=this.props.types:this.state.result&&(h=Object.keys(this.state.result.types_all)),1<h.length)for(var v=function(e){var n=e,r=!1;d.state.result&&(n=d.state.result.types_all[e]||e,r=-1!==d.state.result.types.indexOf(e)),f.push(a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:r,key:"filter-"+e,name:e,onClick:function(n){return t.typeFilter(e,n.currentTarget.checked)}})," ",n))},d=this,m=0,y=h;m<y.length;m++)v(y[m]);e=a.createElement(c.Dialog,{title:this.props.title||"Search content",doClose:this.onCloseClick},a.createElement("input",{name:"search",onChange:this.onSearchChange,placeholder:this.props.placeholder||"Type here some text to search content...",type:"text",value:o}),f.length?a.createElement("div",{className:"filter"},f):"",a.createElement(l.ResultPreviewList,{active:n,data:r,onItemClick:this.valueAdd,maxItemCount:this.props.limit||18}),a.createElement(u.Pager,{onClick:function(e){return t.refresh({page:e})},autoHide:!1,page:i,total:s,limit:p}),a.createElement("div",{className:"current"},a.createElement("h2",null,"Current selection"),a.createElement(l.ResultPreviewList,{active:n,data:this.state.values,onItemClick:this.valueRemove,maxItemCount:this.props.maxCount,removable:!0,sortable:!0})),a.createElement("div",{className:"footer"},a.createElement("button",{className:"button btn btn-danger",name:"submit",onClick:this.onCancelClick},"Cancel"),a.createElement("button",{className:"button btn btn-danger",name:"submit",onClick:this.onResetClick},"Reset to defaults"),a.createElement("button",{className:"button btn btn-success pull-right",name:"submit",onClick:this.onCloseClick},"Select")))}return a.createElement("div",{className:"node-selector"},a.createElement(l.ResultPreviewList,{active:n,data:this.state.values,onItemSort:function(){},sortable:!0}),a.createElement("button",{className:"btn btn-default",onClick:this.onOpenClick},this.props.buttonTitle||"Select"),e)},e}(a.Component);e.SelectorWidget=p,e.SelectorWidgetInit=function(t){if(!t.ownerDocument)throw"You doomed.";var e=[];if(t.value.trim().length){var n=t.value.split(",");if(t.hasAttribute("data-default"))try{for(var r=JSON.parse(t.getAttribute("data-default")||""),i=0,c=n;i<c.length;i++){for(var u,l=c[i],f=!1,h=0,v=r;h<v.length;h++)(u=v[h]).id===l&&(f=!0,e.push(u));f||e.push(l)}}catch(t){console.log("error while reading the data-default attribute: "+t),n.map(function(t){return e.push(t)})}else n.map(function(t){return e.push(t)})}var d={title:t.getAttribute("title")||t.getAttribute("data-title")||"",entityType:t.getAttribute("data-entity")||"node",values:e,placeholder:t.getAttribute("placeholder")||t.getAttribute("data-placeholder")||"",minCount:parseInt(t.getAttribute("data-min")||"")||0,maxCount:parseInt(t.getAttribute("data-max")||"")||0,types:(t.getAttribute("data-bundle")||"").split(",").map(function(t){return t.trim()}).filter(function(t){return t.length}),onUpdate:function(e){return t.value=e.map(function(t){return t.id}).join(",")}},m=t.ownerDocument.createElement("div");t.parentElement?t.parentElement.insertBefore(m,t):m=t,s.render(a.createElement(p,o({},d)),m)}},function(t,e,n){n(25),t.exports=n(49)},function(t,e,n){"use strict";var r,o,i,a,s=n(12),c=n(0),u=n(5),l=n(13),p=n(27),f=n(4),h=n(6),v=n(31),d=n(32),m=n(38),y=n(21).set,_=n(41)(),b=n(22),g=n(42),x=n(43),C=n(44),E="Promise",k=c.TypeError,O=c.process,w=O&&O.versions,j=w&&w.v8||"",S=c[E],P="process"==l(O),N=function(){},T=o=b.f,R=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(N,N)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(N)instanceof e&&0!==j.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),M=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){for(var r=t._v,o=1==t._s,i=0,a=function(e){var n,i,a,s=o?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(!o&&(2==t._h&&F(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?u(k("Promise-chain cycle")):(i=M(n))?i.call(n,c,u):c(n)):u(r)}catch(t){l&&!a&&l.exit(),u(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&I(t)})}},I=function(t){y.call(c,function(){var e,n,r,o=t._v,i=D(t);if(i&&(e=g(function(){P?O.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=P||D(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){y.call(c,function(){var e;P?O.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,!e._a&&(e._a=e._c.slice()),A(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw k("Promise can't be resolved itself");(e=M(t))?_(function(){var r={_w:n,_d:!1};try{e.call(t,u(U,r,1),u(L,r,1))}catch(t){L.call(r,t)}}):(n._v=t,n._s=1,A(n,!1))}catch(t){L.call({_w:n,_d:!1},t)}}};R||(S=function(t){v(this,S,E,"_h"),h(t),r.call(this);try{t(u(U,this,1),u(L,this,1))}catch(t){L.call(this,t)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(45)(S.prototype,{then:function(t,e){var n=T(m(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=P?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=u(U,t,1),this.reject=u(L,t,1)},b.f=T=function(t){return t===S||t===a?new i(t):o(t)}),p(p.G+p.W+p.F*!R,{Promise:S}),n(46)(S,E),n(47)(E),a=n(2)[E],p(p.S+p.F*!R,E,{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(s||!R),E,{resolve:function(t){return C(s&&this===a?S:this,t)}}),p(p.S+p.F*!(R&&n(48)(function(t){S.all(t).catch(N)})),E,{all:function(t){var e=this,n=T(e),r=n.resolve,o=n.reject,i=g(function(){var n=[],i=0,a=1;d(t,!1,function(t){var s=i++,c=!1;n.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,o=g(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e,n){var r=n(2),o=n(0),i="__core-js_shared__",a=o[i]||(o[i]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0===e?{}:e)})("versions",[]).push({version:r.version,mode:n(12)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(0),o=n(2),i=n(15),a=n(18),s=n(5),c="prototype",u=function(t,e,n){var l,p,f,h,v=t&u.F,d=t&u.G,m=t&u.S,y=t&u.P,_=t&u.B,b=d?r:m?r[e]||(r[e]={}):(r[e]||{})[c],g=d?o:o[e]||(o[e]={}),x=g[c]||(g[c]={});for(l in d&&(n=e),n)f=((p=!v&&b&&void 0!==b[l])?b:n)[l],h=_&&p?s(f,r):y&&"function"==typeof f?s(Function.call,f):f,b&&a(b,l,f,t&u.U),g[l]!=f&&i(g,l,h),y&&x[l]!=f&&(x[l]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports=!n(7)&&!n(16)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(5),o=n(33),i=n(34),a=n(3),s=n(35),c=n(37),u={},l={};(e=t.exports=function(t,e,n,p,f){var h,v,d,m,y=f?function(){return t}:c(t),_=r(n,p,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(h=s(t.length);h>b;b++)if((m=e?_(a(v=t[b])[0],v[1]):_(t[b]))===u||m===l)return m}else for(d=y.call(t);!(v=d.next()).done;)if((m=o(d,_,v.value,e))===u||m===l)return m}).BREAK=u,e.RETURN=l},function(t,e,n){var r=n(3);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(20),o=n(1)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(36);t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t){t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:r)(t)}},function(t,e,n){var r=n(13),o=n(1)("iterator"),i=n(20);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(3),o=n(6),i=n(1)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[i])?e:o(n)}},function(t){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(0),o=n(21).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(9)(a);t.exports=function(){var t,e,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var p=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),n=function(){f.data=p=!p}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(0).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(3),o=n(4),i=n(22);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(18);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(10).f,o=n(19),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(0),o=n(10),i=n(7),a=n(1)("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){"use strict";n.r(e);var r=n(50),o=(n.n(r),n(11));n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);var a=n(23);n.n(a);for(var i in a)"default"!=i&&function(t){n.d(e,t,function(){return a[t]})}(i)},function(){},function(t){t.exports=e},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return o.createElement("div",{className:"node-selector-dialog"},o.createElement("div",{className:"overlay"}),o.createElement("div",{className:"dialog"},o.createElement("div",{className:"inner"},o.createElement("h1",{className:"title"},this.props.title,o.createElement("button",{name:"close",onClick:this.props.doClose},"×",o.createElement("span",{className:"sr-only"},this.props.closeLabel||"Close"))),o.createElement("div",{className:"content"},this.props.children))))},e}(o.Component);e.Dialog=i},function(t,e,i){"use strict";var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=i(8),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(){var t=this;if(this.props.autoHide&&this.props.total<=this.props.limit)return null;for(var e=[],i=r(this.props.total/this.props.limit),a=this.props.linkCount||5,c=n(a/2),u=Math.max(1,this.props.page-c),l=o(u+a,i),p=function(n){f.props.page===n?e.push(s.createElement("li",{key:n,className:"active"},s.createElement("a",{onClick:function(){t.props.onClick(n)},href:"#"},n))):e.push(s.createElement("li",{key:n},s.createElement("a",{onClick:function(){t.props.onClick(n)},href:"#"},n)))},f=this,h=u;h<=l;h++)p(h);var v=null,d=null;return 1<i&&(v=1===this.props.page?s.createElement("li",{className:"disabled"},s.createElement("a",{key:"first",href:"#","aria-label":this.props.previousLabel||"Previous"},s.createElement("span",{"aria-hidden":"true"},"«"))):s.createElement("li",null,s.createElement("a",{key:"first",onClick:function(){t.props.onClick(1)},href:"#","aria-label":this.props.previousLabel||"Previous"},s.createElement("span",{"aria-hidden":"true"},"«"))),d=this.props.page===i?s.createElement("li",null,s.createElement("a",{key:"first",onClick:function(){t.props.onClick(i)},href:"#","aria-label":this.props.nextLabel||"Next"},s.createElement("span",{"aria-hidden":"true"},"»"))):s.createElement("li",{className:"disabled"},s.createElement("a",{href:"#","aria-label":this.props.nextLabel||"Next"},s.createElement("span",{"aria-hidden":"true"},"»")))),s.createElement("nav",{className:this.props.className||"pager-nav","aria-label":this.props.ariaLabel||"Page navigation"},s.createElement("ul",{className:"pagination"},v,e,d))},e}(s.Component);e.Pager=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return i.createElement("div",{className:"node-selector-placeholder"})},e}(i.Component);e.ResultPreviewPlaceholder=a;var s=function(t){function e(e){var n=t.call(this,e)||this;return n.onClick=n.onClick.bind(n),n}return r(e,t),e.prototype.onClick=function(t){t.preventDefault(),this.props.onClick&&this.props.onClick()},e.prototype.render=function(){var t;this.props.item.image&&(t=i.createElement("img",{alt:"",src:this.props.item.image}));var e=i.createElement("div",null,i.createElement("span",{className:"title"},this.props.item.title),t);return this.props.onClick?i.createElement("a",{onClick:this.onClick,className:"node-selector-item","data-active":this.props.active},e):i.createElement("div",{className:"node-selector-item","data-active":this.props.active},e)},e}(i.Component);e.ResultPreview=s;var c=function(t){function e(e){var n=t.call(this,e)||this;return n.onItemClick=n.onItemClick.bind(n),n}return r(e,t),e.prototype.componentDidMount=function(){},e.prototype.onItemClick=function(t){this.props.onItemClick&&this.props.onItemClick(t)},e.prototype.render=function(){var t=this,e=["results"];this.props.sortable&&e.push("sortable"),this.props.removable&&e.push("removable");var n=[];if(this.props.maxItemCount)for(var r=this.props.data.length;r<o(this.props.maxItemCount,6);++r)n.push("placeholder-"+r);return i.createElement("div",{className:e.join(" ")},this.props.data.map(function(e){return i.createElement(s,{key:e.id,item:e,active:-1!==t.props.active.indexOf(e.id),onClick:function(){return t.onItemClick(e)}})}),n.map(function(t){return i.createElement(a,{key:t})}))},e}(i.Component);e.ResultPreviewList=c}])});