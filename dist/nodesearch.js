!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],e):"object"==typeof exports?exports.NodeSearch=e(require("React"),require("ReactDOM")):t.NodeSearch=e(t.React,t.ReactDOM)}(window,function(t,e){var n=Math.floor,r=Math.ceil,o=Math.min;return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(e){return t[e]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=24)}([function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,e,n){var r=n(26)("wks"),o=n(14),i=n(0).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){"use strict";function n(){return{cancel:"Cancel",close:"Close",current:"Selected items",open:"Open dialog",placeholder:"Search",reset:"Reset",select:"Select",title:"Search content"}}function r(t,e){return encodeURIComponent(t)+"="+encodeURIComponent(e.toString())}Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ENTITY="node";var o={cancel:"Cancel",close:"Close",current:"Selected items",open:"Open dialog",placeholder:"Search",reset:"Reset",select:"Select",title:"Search content"};e.createDefaultLabels=n,e.translate=function(t,e){if((e=e||{})[t])return e[t];var n=window.NodeSearch.lang||{};return n[t]?n[t]:o[t]||"ERROR, PLEASE TRANSLATE ME"},e.findLabelsOnElement=function(t){for(var e={},n=0,r=["placeholder","select","label","open"];n<r.length;n++){var o=r[n],i=t.getAttribute("data-label-"+o)||t.getAttribute(o);i&&(e[o]=i)}return e},e.createResultItemStub=function(t){return{id:t,title:t,status:0,created:"",updated:"",type:"",human_type:"",image:""}},e.createSearch=function(t,e){return t=t||{},e&&(t.page=t.page||e.page,t.search=t.search||e.search,t.sort_field=t.sort_field||e.sort_field,t.sort_order=t.sort_order||e.sort_order),t},e.doSearch=function(t){return new Promise(function(n,o){var i=[];i.push(r("entity",t.entity||e.DEFAULT_ENTITY)),t.page&&i.push(r("page",t.page)),t.limit&&i.push(r("limit",t.limit)),t.search&&i.push(r("search",t.search)),t.sort_field&&i.push(r("sort_field",t.sort_field)),t.sort_order&&i.push(r("sort_order",t.sort_order)),t.types&&i.push(r("type",t.types.join("|")));var a=new XMLHttpRequest;a.open("GET","/ajax/node/search?"+i.join("&")),a.setRequestHeader("Accept","application/json"),a.addEventListener("load",function(){if(200!==a.status)o(a.status+": "+a.statusText+": "+a.responseText);else try{var t=JSON.parse(a.responseText);t.result||(t.result=[]),t.total||(t.total=0),n(t)}catch(t){o(a.status+": "+a.statusText+": cannot parse JSON: "+t)}}),a.addEventListener("error",function(){o(a.status+": "+a.statusText+": "+a.responseText)}),a.send()})}},function(t,e,n){var r=n(7);t.exports=function(t,e,n){return r(t),void 0===e?t:1===n?function(n){return t.call(e,n)}:2===n?function(n,r){return t.call(e,n,r)}:3===n?function(n,r,o){return t.call(e,n,r,o)}:function(){return t.apply(e,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e){e.exports=t},function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,e,n){var r=n(3),o=n(28),i=n(29),a=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t){t.exports=!1},function(t,e,n){var r=n(10),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t,e,n){var r=n(11),o=n(30);t.exports=n(8)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(4),o=n(0).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(0),o=n(15),i=n(19),a=n(14)("src"),s="toString",c=Function[s],u=(""+c).split(s);n(2).inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]===n||(c&&(i(n,a)||o(n,a,t[e]?""+t[e]:u.join(e+""))),t===r?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||c.call(this)})},function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t){t.exports={}},function(t,e,n){var r,o,i,a=n(6),s=n(39),c=n(40),u=n(17),l=n(0),p=l.process,f=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,m=0,y={},b="onreadystatechange",_=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},g=function(t){_.call(t.data)};f&&h||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},h=function(t){delete y[t]},"process"==n(10)(p)?r=function(t){p.nextTick(a(_,t,1))}:v&&v.now?r=function(t){v.now(a(_,t,1))}:d?(i=(o=new d).port2,o.port1.onmessage=g,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",g,!1)):r=b in u("script")?function(t){c.appendChild(u("script"))[b]=function(){c.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:f,clear:h}},function(t,e,n){"use strict";var r=n(7);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){"use strict";function r(t,e){return{entityType:t.getAttribute("data-entity")||"node",labels:a.findLabelsOnElement(t),maxCount:parseInt(t.getAttribute("data-max")||"",10)||0,minCount:parseInt(t.getAttribute("data-min")||"",10)||0,onUpdate:e,types:(t.getAttribute("data-bundle")||"").split(",").map(function(t){return t.trim()}).filter(function(t){return t.length}),values:function(t,e){var n=[];if(t instanceof HTMLInputElement&&t.value.length){var r=t.value.split(",");if(t.hasAttribute("data-default"))try{for(var o=JSON.parse(t.getAttribute(e||"data-default")||""),i=0,s=r;i<s.length;i++){for(var c,u=s[i],l=!1,p=0,f=o;p<f.length;p++)(c=f[p]).id===u&&(l=!0,n.push(c));l||n.push(a.createResultItemStub(u))}}catch(t){console.log("error while reading the data-default attribute: "+t),r.map(function(t){return n.push(a.createResultItemStub(t))})}else r.map(function(t){return n.push(a.createResultItemStub(t))})}return n}(t,"data-default")}}var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),s=n(9),c=n(51),u=n(52),l=n(53),p=n(54),f=n(5),h=function(t){function e(e){var n=t.call(this,e)||this;return n.state={dialogOpened:!1,values:n.props.values},n.onCloseClick=n.onCloseClick.bind(n),n.onOpenClick=n.onOpenClick.bind(n),n.onUpdate=n.onUpdate.bind(n),n}return o(e,t),e.prototype.onUpdate=function(t){this.setState({values:t})},e.prototype.onCloseClick=function(){this.setState({dialogOpened:!1})},e.prototype.onOpenClick=function(t){t.preventDefault(),this.setState({dialogOpened:!0})},e.prototype.render=function(){var t=this,e=null,n=this.state.values.map(function(t){return t.id});if(this.state.dialogOpened){var r=function(t,e){return{entityType:t.entityType,labels:t.labels,limit:t.limit,maxCount:t.maxCount,minCount:t.minCount,onUpdate:e,types:t.types,values:t.values}}(this.props,function(e){t.setState({values:e}),t.props.onUpdate(e)});e=s.createElement(d,i({},r,{onClose:this.onCloseClick}))}return s.createElement("div",{className:"node-selector"},s.createElement(p.ResultPreviewList,{active:n,data:this.state.values,onItemSort:function(){},sortable:!0}),s.createElement("button",{className:"btn btn-default",onClick:this.onOpenClick},f.translate("open")),e)},e}(s.Component);e.SelectorWidget=h;var d=function(t){function e(e){var n=t.call(this,e)||this,r=n.props.values;return n.state={defaults:r.concat([]),previous:r.concat([]),values:r},n.onCancelClick=n.onCancelClick.bind(n),n.onCloseClick=n.onCloseClick.bind(n),n.onResetClick=n.onResetClick.bind(n),n.onSearchChange=n.onSearchChange.bind(n),n.typeFilter=n.typeFilter.bind(n),n.valueAdd=n.valueAdd.bind(n),n.valueRemove=n.valueRemove.bind(n),n}return o(e,t),e.prototype.componentDidMount=function(){this.refresh()},e.prototype.refresh=function(t){var e=this;(t=t||{}).entity=this.props.entityType,t.limit=t.limit||this.props.limit||18,t.types=t.types||this.props.types,t=a.createSearch(t,this.state.result),a.doSearch(t).then(function(t){return e.setState({result:t})}).catch(function(t){return console.log(t)})},e.prototype.typeFilter=function(t,e){var n=this.state.result?this.state.result.types:[];e?-1===n.indexOf(t)&&(n=n.concat([t])):n=n.filter(function(e){return e!==t}),this.refresh({types:n.length?n:this.props.types})},e.prototype.valueAdd=function(t){var e;e=1===this.props.maxCount?[t]:this.props.maxCount&&this.state.values.length>=this.props.maxCount?this.state.values:this.state.values.concat([t]),this.setState({values:e})},e.prototype.valueRemove=function(t){var e=this.state.values.filter(function(e){return t.id!==e.id});this.setState({values:e})},e.prototype.onSearchChange=function(t){var e=this;!function(t){clearTimeout(e.onChangeDebounceTimer),e.onChangeDebounceTimer=setTimeout(function(){return e.refresh({page:1,search:t})},200)}(t.target.value)},e.prototype.onCloseClick=function(){this.props.onUpdate(this.state.values),this.props.onClose()},e.prototype.onCancelClick=function(t){t.preventDefault(),this.props.onClose()},e.prototype.onResetClick=function(t){t.preventDefault(),this.props.onUpdate(this.state.defaults),this.props.onClose()},e.prototype.render=function(){var t=this,e=this.state.values.map(function(t){return t.id}),n=this.state.result?this.state.result.result:[],r=this.state.result?this.state.result.search:"",o=this.state.result?this.state.result.page:1,i=this.state.result?this.state.result.total:0,a=this.state.result?this.state.result.limit:1,c=[],h=[];if(this.props.types&&this.props.types.length?h=this.props.types:this.state.result&&(h=Object.keys(this.state.result.types_all)),1<h.length)for(var d=function(e){var n=e,r=!1;v.state.result&&(n=v.state.result.types_all[e]||e,r=-1!==v.state.result.types.indexOf(e)),c.push(s.createElement("label",{key:"label-"+e},s.createElement("input",{type:"checkbox",checked:r,key:"filter-"+e,name:e,onChange:function(n){return t.typeFilter(e,n.currentTarget.checked)}})," ",n))},v=this,m=0,y=h;m<y.length;m++)d(y[m]);return s.createElement(u.Dialog,{title:f.translate("title"),doClose:this.onCloseClick},s.createElement("input",{name:"search",onChange:this.onSearchChange,placeholder:f.translate("placeholder"),type:"text",value:r}),c.length?s.createElement("div",{className:"filter"},c):"",s.createElement(p.ResultPreviewList,{active:e,data:n,onItemClick:this.valueAdd,maxItemCount:this.props.limit||18}),s.createElement(l.Pager,{onClick:function(e){return t.refresh({page:e})},autoHide:!1,page:o,total:i,limit:a}),s.createElement("div",{className:"current"},s.createElement("h2",null,f.translate("current")),s.createElement(p.ResultPreviewList,{active:e,data:this.state.values,onItemClick:this.valueRemove,maxItemCount:this.props.maxCount,removable:!0,sortable:!0})),s.createElement("div",{className:"footer"},s.createElement("button",{className:"button btn btn-danger",name:"submit",onClick:this.onCancelClick},f.translate("cancel")),s.createElement("button",{className:"button btn btn-danger",name:"submit",onClick:this.onResetClick},f.translate("reset")),s.createElement("button",{className:"button btn btn-success pull-right",name:"submit",onClick:this.onCloseClick},f.translate("select"))))},e}(s.Component);e.SelectorDialog=d,e.DiscreteWidgetInit=function(t,e,n){var o=t.ownerDocument.createElement("div");t.addEventListener("click",function(){c.render(s.createElement(h,i({},n||r(t,e))),o)})},e.SelectorWidgetInit=function(t){var e=r(t,function(e){return t.value=e.map(function(t){return t.id}).join(",")}),n=t.ownerDocument.createElement("div");t.parentElement?t.parentElement.insertBefore(n,t):n=t,c.render(s.createElement(h,i({},e)),n)}},function(t,e,n){n(25),t.exports=n(49)},function(t,e,n){"use strict";var r,o,i,a,s=n(12),c=n(0),u=n(6),l=n(13),p=n(27),f=n(4),h=n(7),d=n(31),v=n(32),m=n(38),y=n(21).set,b=n(41)(),_=n(22),g=n(42),C=n(43),x=n(44),E="Promise",k=c.TypeError,O=c.process,S=O&&O.versions,w=S&&S.v8||"",j=c[E],P="process"==l(O),N=function(){},R=o=_.f,T=!!function(){try{var t=j.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(N,N)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(N)instanceof e&&0!==w.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(t){}}(),M=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var r=t._v,o=1==t._s,i=0,a=function(e){var n,i,a,s=o?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(!o&&(2==t._h&&L(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?u(k("Promise-chain cycle")):(i=M(n))?i.call(n,c,u):c(n)):u(r)}catch(t){l&&!a&&l.exit(),u(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&I(t)})}},I=function(t){y.call(c,function(){var e,n,r,o=t._v,i=D(t);if(i&&(e=g(function(){P?O.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=P||D(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){y.call(c,function(){var e;P?O.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,!e._a&&(e._a=e._c.slice()),A(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw k("Promise can't be resolved itself");(e=M(t))?b(function(){var r={_w:n,_d:!1};try{e.call(t,u(U,r,1),u(F,r,1))}catch(t){F.call(r,t)}}):(n._v=t,n._s=1,A(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};T||(j=function(t){d(this,j,E,"_h"),h(t),r.call(this);try{t(u(U,this,1),u(F,this,1))}catch(t){F.call(this,t)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(45)(j.prototype,{then:function(t,e){var n=R(m(this,j));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=P?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=u(U,t,1),this.reject=u(F,t,1)},_.f=R=function(t){return t===j||t===a?new i(t):o(t)}),p(p.G+p.W+p.F*!T,{Promise:j}),n(46)(j,E),n(47)(E),a=n(2)[E],p(p.S+p.F*!T,E,{reject:function(t){var e=R(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(s||!T),E,{resolve:function(t){return x(s&&this===a?j:this,t)}}),p(p.S+p.F*!(T&&n(48)(function(t){j.all(t).catch(N)})),E,{all:function(t){var e=this,n=R(e),r=n.resolve,o=n.reject,i=g(function(){var n=[],i=0,a=1;v(t,!1,function(t){var s=i++,c=!1;n.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=R(e),r=n.reject,o=g(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e,n){var r=n(2),o=n(0),i="__core-js_shared__",a=o[i]||(o[i]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0===e?{}:e)})("versions",[]).push({version:r.version,mode:n(12)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(0),o=n(2),i=n(15),a=n(18),s=n(6),c="prototype",u=function(t,e,n){var l,p,f,h,d=t&u.F,v=t&u.G,m=t&u.S,y=t&u.P,b=t&u.B,_=v?r:m?r[e]||(r[e]={}):(r[e]||{})[c],g=v?o:o[e]||(o[e]={}),C=g[c]||(g[c]={});for(l in v&&(n=e),n)f=((p=!d&&_&&void 0!==_[l])?_:n)[l],h=b&&p?s(f,r):y&&"function"==typeof f?s(Function.call,f):f,_&&a(_,l,f,t&u.U),g[l]!=f&&i(g,l,h),y&&C[l]!=f&&(C[l]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports=!n(8)&&!n(16)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(6),o=n(33),i=n(34),a=n(3),s=n(35),c=n(37),u={},l={};(e=t.exports=function(t,e,n,p,f){var h,d,v,m,y=f?function(){return t}:c(t),b=r(n,p,e?2:1),_=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(h=s(t.length);h>_;_++)if((m=e?b(a(d=t[_])[0],d[1]):b(t[_]))===u||m===l)return m}else for(v=y.call(t);!(d=v.next()).done;)if((m=o(v,b,d.value,e))===u||m===l)return m}).BREAK=u,e.RETURN=l},function(t,e,n){var r=n(3);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(20),o=n(1)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(36);t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t){t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:r)(t)}},function(t,e,n){var r=n(13),o=n(1)("iterator"),i=n(20);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(3),o=n(7),i=n(1)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[i])?e:o(n)}},function(t){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(0),o=n(21).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(10)(a);t.exports=function(){var t,e,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){o.call(r,u)};else{var p=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),n=function(){f.data=p=!p}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(0).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(3),o=n(4),i=n(22);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(18);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(11).f,o=n(19),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(0),o=n(11),i=n(8),a=n(1)("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){"use strict";n.r(e);var r=n(50),o=(n.n(r),n(5));n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);var a=n(23);n.n(a);for(var i in a)"default"!=i&&function(t){n.d(e,t,function(){return a[t]})}(i)},function(){},function(t){t.exports=e},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),i=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return o.createElement("div",{className:"node-selector-dialog"},o.createElement("div",{className:"overlay"}),o.createElement("div",{className:"dialog"},o.createElement("div",{className:"inner"},o.createElement("h1",{className:"title"},this.props.title,o.createElement("button",{name:"close",onClick:this.props.doClose},"×",o.createElement("span",{className:"sr-only"},i.translate("close")))),o.createElement("div",{className:"content"},this.props.children))))},e}(o.Component);e.Dialog=a},function(t,e,i){"use strict";var a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=i(9),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(){var t=this;if(this.props.autoHide&&this.props.total<=this.props.limit)return null;for(var e=[],i=r(this.props.total/this.props.limit),a=this.props.linkCount||5,c=n(a/2),u=Math.max(1,this.props.page-c),l=o(u+a,i),p=function(n){f.props.page===n?e.push(s.createElement("li",{key:n,className:"active"},s.createElement("a",{onClick:function(){t.props.onClick(n)},href:"#"},n))):e.push(s.createElement("li",{key:n},s.createElement("a",{onClick:function(){t.props.onClick(n)},href:"#"},n)))},f=this,h=u;h<=l;h++)p(h);var d=null,v=null;return 1<i&&(d=1===this.props.page?s.createElement("li",{className:"disabled"},s.createElement("a",{key:"first",href:"#","aria-label":this.props.previousLabel||"Previous"},s.createElement("span",{"aria-hidden":"true"},"«"))):s.createElement("li",null,s.createElement("a",{key:"first",onClick:function(){t.props.onClick(1)},href:"#","aria-label":this.props.previousLabel||"Previous"},s.createElement("span",{"aria-hidden":"true"},"«"))),v=this.props.page===i?s.createElement("li",null,s.createElement("a",{key:"first",onClick:function(){t.props.onClick(i)},href:"#","aria-label":this.props.nextLabel||"Next"},s.createElement("span",{"aria-hidden":"true"},"»"))):s.createElement("li",{className:"disabled"},s.createElement("a",{href:"#","aria-label":this.props.nextLabel||"Next"},s.createElement("span",{"aria-hidden":"true"},"»")))),s.createElement("nav",{className:this.props.className||"pager-nav","aria-label":this.props.ariaLabel||"Page navigation"},s.createElement("ul",{className:"pagination"},d,e,v))},e}(s.Component);e.Pager=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(){return i.createElement("div",{className:"node-selector-placeholder"})},e}(i.Component);e.ResultPreviewPlaceholder=a;var s=function(t){function e(e){var n=t.call(this,e)||this;return n.onClick=n.onClick.bind(n),n}return r(e,t),e.prototype.onClick=function(t){t.preventDefault(),this.props.onClick&&this.props.onClick()},e.prototype.render=function(){var t;this.props.item.image&&(t=i.createElement("img",{alt:"",src:this.props.item.image}));var e=i.createElement("div",null,i.createElement("span",{className:"title"},this.props.item.title),t);return this.props.onClick?i.createElement("a",{onClick:this.onClick,className:"node-selector-item","data-active":this.props.active},e):i.createElement("div",{className:"node-selector-item","data-active":this.props.active},e)},e}(i.Component);e.ResultPreview=s;var c=function(t){function e(e){var n=t.call(this,e)||this;return n.onItemClick=n.onItemClick.bind(n),n}return r(e,t),e.prototype.componentDidMount=function(){},e.prototype.onItemClick=function(t){this.props.onItemClick&&this.props.onItemClick(t)},e.prototype.render=function(){var t=this,e=["results"];this.props.sortable&&e.push("sortable"),this.props.removable&&e.push("removable");var n=[];if(this.props.maxItemCount)for(var r=this.props.data.length;r<o(this.props.maxItemCount,6);++r)n.push("placeholder-"+r);return i.createElement("div",{className:e.join(" ")},this.props.data.map(function(e){return i.createElement(s,{key:e.id,item:e,active:-1!==t.props.active.indexOf(e.id),onClick:function(){return t.onItemClick(e)}})}),n.map(function(t){return i.createElement(a,{key:t})}))},e}(i.Component);e.ResultPreviewList=c}])});